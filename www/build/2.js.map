{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { RegisterPage } from './register';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RegisterPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(RegisterPage),\r\n  ],\r\n})\r\nexport class RegisterPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\r\nimport {IonicPage, NavController, NavParams, App, AlertController} from 'ionic-angular';\r\nimport { Api } from '../../providers/api/api';\r\nimport {Storage} from \"@ionic/storage\";\r\nimport {ProfilePage} from \"../profile/profile\";\r\nimport { LoginPage } from \"../login/login\";\r\n\r\n/**\r\n * Generated class for the RegisterPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-register',\r\n  templateUrl: 'register.html',\r\n})\r\nexport class RegisterPage {\r\n\r\n  email: any;\r\n  password: any;\r\n  usualName: any;\r\n  birthday: any;\r\n  gender: any;\r\n  city: any;\r\n  nav;\r\n\r\n  constructor(public navCtrl: NavController, public app: App, public api: Api, public storage: Storage, public alertCtrl: AlertController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n  goToProfile() {\r\n    let data: any;\r\n        data = {};\r\n        data.email = this.email;\r\n        data.password = this.password;\r\n        data.usualName = this.usualName;\r\n        data.birthday = this.birthday;\r\n        data.gender = this.gender;\r\n        data.city = this.city;\r\n\r\n     this.api.post('createUser', data)\r\n            .subscribe(\r\n                (data) => {\r\n                  let body: any;\r\n                  body = JSON.parse(data.text());\r\n\r\n                    console.log(body);\r\n                  if(body.error){\r\n                      this.showAlertBadRegister(body.message);\r\n                    //alert(body.message);\r\n                  }else{\r\n                        this.storage.set('isConnected',true);\r\n                        this.storage.set('user', body);\r\n\r\n                        // On redirige l'utilisateur vers sa page si il est authentifiÃ©\r\n                        this.navCtrl.setRoot(ProfilePage);\r\n                  }\r\n                },\r\n                (err) => {\r\n                  console.log(err);\r\n                    this.showAlertBadRegister('Une erreur est survenue lors de l\\'enregistrement');\r\n                    //this.navCtrl.setRoot(this.navCtrl.getActive().component);\r\n                },\r\n                () => {\r\n                    //this.goToHome();\r\n                }\r\n            );\r\n  }\r\n\r\n    goBackPage() {\r\n        this.nav= this.app.getRootNavById('n4');\r\n        this.nav.setRoot(LoginPage);\r\n    }\r\n\r\n    showAlertBadRegister(message) {\r\n        const alert = this.alertCtrl.create({\r\n            title: 'Erreur de connexion',\r\n            subTitle: message,\r\n            buttons: ['OK']\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}